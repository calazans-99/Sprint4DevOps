# =============================
# üß™ Perfil de Teste (H2 em mem√≥ria)
# =============================

# Banco H2 compat√≠vel com SQL Server (MODE=MSSQLServer)
# O INIT cria o schema "dbo" automaticamente para evitar o erro "Schema not found"
spring.datasource.url=jdbc:h2:mem:testdb;MODE=MSSQLServer;DATABASE_TO_LOWER=TRUE;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS dbo
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Cria e apaga o schema a cada execu√ß√£o de teste
spring.jpa.hibernate.ddl-auto=create-drop

# Dialeto para H2
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# Mant√©m nomes exatos de @Table/@Column
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# Mostra SQL nos logs (pode deixar "false" para builds mais limpos)
spring.jpa.show-sql=false
logging.level.org.hibernate.SQL=warn

# Desabilita cache de segundo n√≠vel e estat√≠sticas
spring.jpa.properties.hibernate.cache.use_second_level_cache=false
spring.jpa.properties.hibernate.cache.use_query_cache=false
