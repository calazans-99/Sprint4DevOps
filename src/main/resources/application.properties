# =============================
# üåê Configura√ß√£o do servidor
# =============================
# Usa a porta do App Service (vari√°vel PORT) ou 8080 localmente
server.port=${PORT:8080}

# =============================
# üíæ Banco de Dados (SQL Server PaaS)
# =============================
spring.datasource.url=${SPRING_DATASOURCE_URL}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# =============================
# ‚öôÔ∏è Configura√ß√µes JPA / Hibernate
# =============================
# Dialeto do SQL Server (detectado automaticamente, mas deixamos expl√≠cito)
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect

# Mant√©m exatamente os nomes definidos em @Table/@Column (sem snake_case)
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl

# Define o schema padr√£o (necess√°rio se n√£o usar @Table(schema="dbo"))
spring.jpa.properties.hibernate.default_schema=dbo

# ‚ùå Em produ√ß√£o: nunca use "update" (gera erros com √≠ndices e colunas).
# ‚úÖ Use Flyway para versionar o schema.
# Durante ajustes locais, voc√™ pode trocar temporariamente para "update".
spring.jpa.hibernate.ddl-auto=none

# =============================
# ü™∂ Logs e depura√ß√£o
# =============================
# Mostra o SQL executado (√∫til para testes)
spring.jpa.show-sql=true
logging.level.org.hibernate.SQL=debug
logging.level.org.hibernate.type.descriptor.sql=trace
